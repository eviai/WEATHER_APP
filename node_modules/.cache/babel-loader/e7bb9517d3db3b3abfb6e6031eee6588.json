{"ast":null,"code":"import _slicedToArray from\"/Users/jeff/Desktop/weather-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import WeatherDisplay from\"./WeatherDisplay\";import Forecast from\"./Forecast\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WeatherApp(props){var _useState=useState(props.defaultCity),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState({ready:false}),_useState4=_slicedToArray(_useState3,2),weatherData=_useState4[0],setWeatherData=_useState4[1];function handleResponse(response){setWeatherData({ready:true,coordinates:response.data.coord,description:response.data.weather[0].description,wind:Math.round(response.data.wind.speed),humidity:Math.round(response.data.main.humidity),city:response.data.name,date:new Date(response.data.dt*1000),time:new Date(response.data.dt*1000),icon:response.data.weather[0].icon,temperature:Math.round(response.data.main.temp),sunrise:new Date(response.data.sys.sunrise*1000),sunset:new Date(response.data.sys.sunset*1000)});}function search(){var apiKey=\"51ac8c007be10df8c6279a4b5212951e\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}function handleSubmit(event){event.preventDefault();search();}function handleCitySearch(event){setCity(event.target.value);}function currentLocation(position){var lat=position.coords.latitude;var lon=position.coords.longitude;var apiKey=\"51ac8c007be10df8c6279a4b5212951e\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}function showCurrentLocation(event){event.preventDefault();navigator.geolocation.getCurrentPosition(currentLocation);}if(weatherData.ready){return/*#__PURE__*/_jsx(\"div\",{className:\"weather-app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-search\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"\",id:\"search-text-input\",autoFocus:\"on\",onChange:handleCitySearch}),/*#__PURE__*/_jsx(\"input\",{id:\"search-button\",type:\"image\",name:\"submit\",src:\"images/SEARCH.svg\",alt:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{id:\"current-location-button\",children:/*#__PURE__*/_jsx(\"img\",{id:\"current-location-button-image\",src:\"images/CURRENT_LOCATION.svg\",alt:\"\",onClick:showCurrentLocation})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(WeatherDisplay,{data:weatherData}),/*#__PURE__*/_jsx(Forecast,{coordinates:weatherData.coordinates})]})});}else{search();return\"Loading...\";}}","map":{"version":3,"sources":["/Users/jeff/Desktop/weather-react/src/Weather.js"],"names":["React","useState","WeatherDisplay","Forecast","axios","WeatherApp","props","defaultCity","city","setCity","ready","weatherData","setWeatherData","handleResponse","response","coordinates","data","coord","description","weather","wind","Math","round","speed","humidity","main","name","date","Date","dt","time","icon","temperature","temp","sunrise","sys","sunset","search","apiKey","apiUrl","get","then","handleSubmit","event","preventDefault","handleCitySearch","target","value","currentLocation","position","lat","coords","latitude","lon","longitude","showCurrentLocation","navigator","geolocation","getCurrentPosition"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport WeatherDisplay from \"./WeatherDisplay\";\nimport Forecast from \"./Forecast\";\n\nimport axios from \"axios\";\n\nexport default function WeatherApp(props) {\n  const [city, setCity] = useState(props.defaultCity);\n  const [weatherData, setWeatherData] = useState({ ready: false });\n\n  function handleResponse(response) {\n    setWeatherData({\n      ready: true,\n      coordinates: response.data.coord,\n      description: response.data.weather[0].description,\n      wind: Math.round(response.data.wind.speed),\n      humidity: Math.round(response.data.main.humidity),\n      city: response.data.name,\n      date: new Date(response.data.dt * 1000),\n      time: new Date(response.data.dt * 1000),\n      icon: response.data.weather[0].icon,\n      temperature: Math.round(response.data.main.temp),\n      sunrise: new Date(response.data.sys.sunrise * 1000),\n      sunset: new Date(response.data.sys.sunset * 1000),\n    });\n  }\n\n  function search() {\n    let apiKey = \"51ac8c007be10df8c6279a4b5212951e\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;\n    axios.get(apiUrl).then(handleResponse);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    search();\n  }\n\n  function handleCitySearch(event) {\n    setCity(event.target.value);\n  }\n\n  function currentLocation(position) {\n    let lat = position.coords.latitude;\n    let lon = position.coords.longitude;\n    let apiKey = \"51ac8c007be10df8c6279a4b5212951e\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;\n    axios.get(apiUrl).then(handleResponse);\n  }\n  function showCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(currentLocation);\n  }\n\n  if (weatherData.ready) {\n    return (\n      <div className=\"weather-app\">\n        <div className=\"col-search\">\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"search\"\n              placeholder=\"\"\n              id=\"search-text-input\"\n              autoFocus=\"on\"\n              onChange={handleCitySearch}\n            />\n\n            <input\n              id=\"search-button\"\n              type=\"image\"\n              name=\"submit\"\n              src=\"images/SEARCH.svg\"\n              alt=\"Submit\"\n            />\n\n            <button id=\"current-location-button\">\n              <img\n                id=\"current-location-button-image\"\n                src=\"images/CURRENT_LOCATION.svg\"\n                alt=\"\"\n                onClick={showCurrentLocation}\n              />\n            </button>\n          </form>\n          <br />\n\n          <WeatherDisplay data={weatherData} />\n\n          <Forecast coordinates={weatherData.coordinates} />\n        </div>\n      </div>\n    );\n  } else {\n    search();\n    return \"Loading...\";\n  }\n}\n"]},"metadata":{},"sourceType":"module"}